<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>세부 호핑팩 데이투어 | 자동 견적</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      padding: 20px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
      background: #f5f5f7;
    }
    .app {
      max-width: 900px;
      margin: 0 auto;
    }
    .card {
      background: #ffffff;
      border-radius: 18px;
      padding: 20px 20px 18px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.06);
    }
    h1 {
      font-size: 22px;
      margin: 0 0 4px;
    }
    .subtitle {
      font-size: 13px;
      color: #777;
      margin-bottom: 16px;
      line-height: 1.5;
    }
    .layout {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }
    .left, .right {
      flex: 1 1 320px;
    }
    .info-block {
      margin-bottom: 16px;
      font-size: 13px;
    }
    .info-block dl {
      margin: 0 0 8px;
      display: flex;
    }
    .info-block dt {
      width: 80px;
      font-weight: 600;
      color: #555;
    }
    .info-block dd {
      margin: 0;
      color: #333;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      font-size: 13px;
    }
    th, td {
      border: 1px solid #e0e0e0;
      padding: 8px 10px;
    }
    th {
      background: #fafafa;
      font-weight: 600;
    }
    .c_red {
      color: #c62828;
      font-weight: 700;
    }
    .unit {
      color: #777;
      font-size: 12px;
    }
    label {
      font-size: 13px;
      font-weight: 600;
      display: block;
      margin-bottom: 4px;
    }
    select, input[type="number"] {
      width: 100%;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #ddd;
      font-size: 14px;
      outline: none;
      background: #fff;
      transition: border 0.15s, box-shadow 0.15s;
    }
    select:focus, input:focus {
      border-color: #333;
      box-shadow: 0 0 0 1px #3332;
    }
    .row {
      display: flex;
      gap: 10px;
    }
    .col {
      flex: 1;
    }
    .field {
      margin-bottom: 12px;
    }
    .result-box {
      margin-top: 12px;
      padding-top: 10px;
      border-top: 1px dashed #ddd;
      font-size: 14px;
    }
    .result-line {
      display: flex;
      justify-content: space-between;
      margin-bottom: 4px;
    }
    .result-label {
      color: #555;
    }
    .result-value {
      font-weight: 600;
    }
    .result-total {
      margin-top: 6px;
      padding-top: 6px;
      border-top: 1px solid #eee;
      font-size: 16px;
      font-weight: 700;
    }
    .note {
      margin-top: 6px;
      font-size: 11px;
      color: #888;
      line-height: 1.4;
    }
    .total-box {
      margin-top: 16px;
      padding: 14px 12px;
      border-radius: 14px;
      background: #f9fafb;
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: center;
      justify-content: space-between;
    }
    .total-text {
      font-size: 11px;
      color: #777;
      line-height: 1.4;
    }
    .total-price-main {
      font-size: 17px;
      font-weight: 700;
    }
    .total-sub {
      font-size: 13px;
      color: #555;
      margin-top: 2px;
    }
    .btn-main {
      display: inline-block;
      padding: 10px 20px;
      border-radius: 999px;
      background: #111827;
      color: #fff;
      font-size: 14px;
      font-weight: 600;
      text-decoration: none;
      cursor: pointer;
      border: none;
    }
    .btn-main:hover {
      opacity: 0.92;
    }
    .age-guide {
      font-size: 11px;
      color: #666;
      margin-top: 4px;
    }
    .error {
      font-size: 12px;
      color: #c62828;
      margin-top: 4px;
    }
    @media (max-width: 600px) {
      .card { padding: 16px 14px 14px; }
      h1 { font-size: 18px; }
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="card">
      <h1>세부 호핑팩 데이투어 자동 견적</h1>
      <div class="subtitle">
        성인 / 아동 인원을 입력하면<br>
        <strong>예약금(원)</strong>과 <strong>현장 잔금(USD)</strong>을 한 번에 확인할 수 있습니다.
      </div>

      <div class="layout">
        <!-- LEFT: 상품 정보 & 1인 가격표 -->
        <div class="left">
          <div class="info-block">
            <dl>
              <dt>상품명</dt>
              <dd>세부점 :: 호핑팩 데이투어</dd>
            </dl>
            <dl>
              <dt>여행기간</dt>
              <dd>당일</dd>
            </dl>
            <dl>
              <dt>출발지</dt>
              <dd>리조트 픽업 (단독차량)</dd>
            </dl>
            <dl>
              <dt>시간</dt>
              <dd><span>시작 10:00</span> ~ <span>종료 20:00</span></dd>
            </dl>
          </div>

          <table>
            <thead>
              <tr>
                <th style="text-align:center;">구분</th>
                <th style="text-align:right;">인당 예약금액</th>
                <th style="text-align:right;">잔금 (USD)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td style="text-align:right;"><strong>성인</strong> <span class="unit">(만 12세 이상)</span></td>
                <td style="text-align:right;"><span class="c_red">20,000원</span></td>
                <td style="text-align:right;">＄189</td>
              </tr>
              <tr>
                <td style="text-align:right;"><strong>아동</strong> <span class="unit">(24개월 이상~ 만 11세 이하)</span></td>
                <td style="text-align:right;"><span class="c_red">10,000원</span></td>
                <td style="text-align:right;">＄39</td>
              </tr>
              <tr>
                <td style="text-align:right;"><strong>영아</strong> <span class="unit">(24개월 미만)</span></td>
                <td style="text-align:right;"><span class="c_red">0원</span></td>
                <td style="text-align:right;">무료</td>
              </tr>
            </tbody>
          </table>

          <div class="age-guide">
            * 연령 기준은 탑승 / 투어 진행일 기준 만 나이입니다.<br>
            * 영아는 좌석/식사가 별도 제공되지 않을 수 있습니다.
          </div>
        </div>

        <!-- RIGHT: 인원 선택 & 자동 계산 -->
        <div class="right">
          <div class="field">
            <label for="dateInput">여행일자 (선택)</label>
            <input type="date" id="dateInput" style="width:100%; padding:8px 10px; border-radius:10px; border:1px solid #ddd; font-size:14px;">
          </div>

          <div class="row">
            <div class="col">
              <div class="field">
                <label for="adultCount">성인 인원</label>
                <select id="adultCount">
                  <!-- 2~10명 기본 -->
                </select>
              </div>
            </div>
            <div class="col">
              <div class="field">
                <label for="childCount">아동 인원</label>
                <select id="childCount">
                  <!-- 0~10명 -->
                </select>
              </div>
            </div>
            <div class="col">
              <div class="field">
                <label for="infantCount">영아 인원</label>
                <select id="infantCount">
                  <!-- 0~5명 -->
                </select>
              </div>
            </div>
          </div>

          <div id="errorBox" class="error"></div>

          <div class="result-box">
            <div class="result-line">
              <div class="result-label">성인 예약금 합계</div>
              <div class="result-value" id="adultDepositTotal">0원</div>
            </div>
            <div class="result-line">
              <div class="result-label">아동 예약금 합계</div>
              <div class="result-value" id="childDepositTotal">0원</div>
            </div>
            <div class="result-line">
              <div class="result-label">영아 예약금 합계</div>
              <div class="result-value" id="infantDepositTotal">0원</div>
            </div>

            <div class="result-total" id="totalDepositText">총 예약금: 0원</div>

            <div class="result-line" style="margin-top:6px;">
              <div class="result-label">성인 잔금 (USD)</div>
              <div class="result-value" id="adultBalanceTotal">$0</div>
            </div>
            <div class="result-line">
              <div class="result-label">아동 잔금 (USD)</div>
              <div class="result-value" id="childBalanceTotal">$0</div>
            </div>
            <div class="result-line">
              <div class="result-label">영아 잔금 (USD)</div>
              <div class="result-value" id="infantBalanceTotal">$0</div>
            </div>

            <div class="result-line" style="margin-top:4px;">
              <div class="result-label"><strong>현지에서 결제할 잔금 합계</strong></div>
              <div class="result-value" id="totalBalanceText">$0</div>
            </div>

            <div class="result-line">
              <div class="result-label">총 투어 인원</div>
              <div class="result-value" id="totalPaxText">0명</div>
            </div>
            <div class="result-line">
              <div class="result-label">1인당 금액 (예약금+잔금 기준, 성인+아동)</div>
              <div class="result-value" id="perPersonText">-</div>
            </div>

            <div class="note">
              * 총 결제금액은 예약금 기준이며, 잔금(USD)은 현지에서 가이드에게 직접 결제합니다.<br>
              * 환율에 따라 실제 원화 금액은 변동될 수 있습니다.
            </div>
          </div>

          <div class="total-box">
            <div>
              <div class="total-price-main" id="summaryMain">총 예약금 0원 · 잔금 $0</div>
              <div class="total-sub" id="summarySub">인원 선택 후 자동으로 계산됩니다.</div>
            </div>
            <div>
              <button class="btn-main" type="button" onclick="alert('실제 예약은 카카오톡/문의 채널로 연결해주세요.');">
                이 인원으로 문의하기
              </button>
            </div>
          </div>

          <div class="total-text">
            ※ 실제 예약/변경/취소는 갓투어 카카오채널 또는 상담 채널을 통해 진행됩니다.
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ====== 설정 영역 (여기만 바꾸면 다른 투어도 쉽게 재사용 가능) ======
    const CONFIG = {
      tourName: "세부점 :: 호핑팩 데이투어",
      // 1인당 예약금 (원)
      adultDeposit: 20000,
      childDeposit: 10000,
      infantDeposit: 0,
      // 1인당 현장 잔금 (USD)
      adultBalanceUSD: 189,
      childBalanceUSD: 39,
      infantBalanceUSD: 0,
      // 인원 선택 범위
      adultMin: 2,
      adultMax: 10,
      childMax: 10,
      infantMax: 5
    };

    const adultSelect = document.getElementById("adultCount");
    const childSelect = document.getElementById("childCount");
    const infantSelect = document.getElementById("infantCount");
    const errorBox = document.getElementById("errorBox");

    function fillSelect(select, min, max, defaultValue) {
      select.innerHTML = "";
      for (let i = min; i <= max; i++) {
        const opt = document.createElement("option");
        opt.value = i;
        opt.textContent = i;
        if (i === defaultValue) opt.selected = true;
        select.appendChild(opt);
      }
    }

    // 인원 select 초기화
    fillSelect(adultSelect, CONFIG.adultMin, CONFIG.adultMax, CONFIG.adultMin);
    fillSelect(childSelect, 0, CONFIG.childMax, 0);
    fillSelect(infantSelect, 0, CONFIG.infantMax, 0);

    // 결과 표시 요소
    const adultDepositTotal = document.getElementById("adultDepositTotal");
    const childDepositTotal = document.getElementById("childDepositTotal");
    const infantDepositTotal = document.getElementById("infantDepositTotal");
    const totalDepositText = document.getElementById("totalDepositText");

    const adultBalanceTotal = document.getElementById("adultBalanceTotal");
    const childBalanceTotal = document.getElementById("childBalanceTotal");
    const infantBalanceTotal = document.getElementById("infantBalanceTotal");
    const totalBalanceText = document.getElementById("totalBalanceText");

    const totalPaxText = document.getElementById("totalPaxText");
    const perPersonText = document.getElementById("perPersonText");

    const summaryMain = document.getElementById("summaryMain");
    const summarySub = document.getElementById("summarySub");
    const dateInput = document.getElementById("dateInput");

    function formatKRW(n) {
      return (Number(n) || 0).toLocaleString("ko-KR") + "원";
    }
    function formatUSD(n) {
      return "$" + (Number(n) || 0).toLocaleString("en-US");
    }

    function calc() {
      errorBox.textContent = "";

      const adult = parseInt(adultSelect.value, 10) || 0;
      const child = parseInt(childSelect.value, 10) || 0;
      const infant = parseInt(infantSelect.value, 10) || 0;

      if (adult < CONFIG.adultMin) {
        errorBox.textContent = `성인은 최소 ${CONFIG.adultMin}명 이상이어야 합니다.`;
      }

      const adultDep = adult * CONFIG.adultDeposit;
      const childDep = child * CONFIG.childDeposit;
      const infantDep = infant * CONFIG.infantDeposit;
      const totalDep = adultDep + childDep + infantDep;

      const adultBal = adult * CONFIG.adultBalanceUSD;
      const childBal = child * CONFIG.childBalanceUSD;
      const infantBal = infant * CONFIG.infantBalanceUSD;
      const totalBal = adultBal + childBal + infantBal;

      const totalPax = adult + child + infant;

      adultDepositTotal.textContent = formatKRW(adultDep);
      childDepositTotal.textContent = formatKRW(childDep);
      infantDepositTotal.textContent = formatKRW(infantDep);
      totalDepositText.textContent = "총 예약금: " + formatKRW(totalDep);

      adultBalanceTotal.textContent = formatUSD(adultBal);
      childBalanceTotal.textContent = formatUSD(childBal);
      infantBalanceTotal.textContent = formatUSD(infantBal);
      totalBalanceText.textContent = formatUSD(totalBal);

      totalPaxText.textContent = totalPax + "명";

      if (adult + child > 0) {
        const avgPerPersonUSD = totalBal / (adult + child);
        perPersonText.textContent = formatUSD(avgPerPersonUSD.toFixed(0)) + " (1인 잔금 기준)";
      } else {
        perPersonText.textContent = "-";
      }

      summaryMain.textContent = `총 예약금 ${formatKRW(totalDep)} · 잔금 ${formatUSD(totalBal)}`;

      const dateVal = dateInput.value;
      if (dateVal) {
        summarySub.textContent = `${dateVal} 기준 ${totalPax}명 기준 견적입니다.`;
      } else {
        summarySub.textContent = `${totalPax}명 기준 임시 견적입니다.`;
      }
    }

    adultSelect.addEventListener("change", calc);
    childSelect.addEventListener("change", calc);
    infantSelect.addEventListener("change", calc);
    dateInput.addEventListener("change", calc);

    // 첫 계산
    calc();
  </script>
</body>
</html>
